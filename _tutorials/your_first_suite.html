---
layout: tutorial
redirect_from: "/edge/your_first_suite.html"
redirect_from: "/edge/introduction.html"
file_name: your_first_suite
order: 0
---
<table cellspacing="0" cellpadding="0">
  <tbody>
  <tr id="section-Suites:_&lt;code&gt;describe&lt;/code&gt;_Your_Tests">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Suites:_&lt;code&gt;describe&lt;/code&gt;_Your_Tests">&#182;</a>
      </div>
      <h2>Suites: <code>describe</code> Your Tests</h2>

<p>The <a href="/api/edge/global.html#describe">describe</a> function is for grouping related specs, typically each test file has one at the top level.
The string parameter is for naming the collection of specs, and will be concatenated with specs to make a spec&#39;s full name.
This aids in finding specs in a large suite.
If you name them well, your specs read as full sentences in traditional <a href="http://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> style.</p>

<h2>Specs</h2>

<p>Specs are defined by calling the global Jasmine function <a href="/api/edge/global.html#it">it</a>, which, like <code>describe</code> takes a string and a function.
The string is the title of the spec and the function is the spec, or test.
A spec contains one or more expectations that test the state of the code.
An expectation in Jasmine is an assertion that is either true or false.
A spec with all true expectations is a passing spec. A spec with one or more false expectations is a failing spec.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A suite&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;contains spec with an expectation&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-It&amp;#39;s_Just_Functions">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-It&amp;#39;s_Just_Functions">&#182;</a>
      </div>
      <h3>It&#39;s Just Functions</h3>

<p>Since <code>describe</code> and <code>it</code> blocks are functions, they can contain any executable code necessary to implement the test. JavaScript scoping rules apply, so variables declared in a <code>describe</code> are available to any <code>it</code> block inside the suite.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A suite is just a function&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;and so is a spec&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Expectations">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Expectations">&#182;</a>
      </div>
      <h2>Expectations</h2>

<p>Expectations are built with the function <code>expect</code> which takes a value, called the actual.
It is chained with a Matcher function, which takes the expected value.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;The &#39;toBe&#39; matcher compares with ===&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Matchers">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Matchers">&#182;</a>
      </div>
      <h3>Matchers</h3>

<p>Each matcher implements a boolean comparison between the actual value and the expected value.
It is responsible for reporting to Jasmine if the expectation is true or false.
Jasmine will then pass or fail the spec.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;and has a positive case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-5">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-5">&#182;</a>
      </div>
      <p>Any matcher can evaluate to a negative assertion by chaining the call to <code>expect</code> with a <code>not</code> before calling the matcher.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;and can have a negative case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-6">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-6">&#182;</a>
      </div>
      <p>Jasmine has a rich set of matchers included, you can find the full list in the <a href="/api/edge/matchers.html">API docs</a>
There is also the ability to write <a href="custom_matcher.html">custom matchers</a> for when a project&#39;s domain calls for specific assertions that are not included in Jasmine.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Setup_and_Teardown">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Setup_and_Teardown">&#182;</a>
      </div>
      <h3>Setup and Teardown</h3>

<p>To help a test suite DRY up any duplicated setup and teardown code, Jasmine provides the global <a href="/api/edge/global.html#beforeEach">beforeEach</a>, <a href="/api/edge/global.html#afterEach">afterEach</a>, <a href="/api/edge/global.html#beforeAll">beforeAll</a>, and <a href="/api/edge/global.html#afterAll">afterAll</a> functions.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A suite with some shared setup&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-8">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-8">&#182;</a>
      </div>
      <p>As the name implies, the <code>beforeEach</code> function is called once before each spec in the <code>describe</code> in which it is called</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-9">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-9">&#182;</a>
      </div>
      <p>and the <code>afterEach</code> function is called once after each spec.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-10">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-10">&#182;</a>
      </div>
      <p>The <code>beforeAll</code> function is called only once before all the specs in <code>describe</code> are run</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">beforeAll</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-11">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-11">&#182;</a>
      </div>
      <p>and the <code>afterAll</code> function is called after all specs finish</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">afterAll</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">});</span>

<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-12">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-12">&#182;</a>
      </div>
      <p><code>beforeAll</code> and <code>afterAll</code> can be used to speed up test suites with expensive setup and teardown.</p>

<p>However, be careful using <code>beforeAll</code> and <code>afterAll</code>!
Since they are not reset between specs, it is easy to accidentally leak state between your specs so that they erroneously pass or fail.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre></pre>
      </div>
    </td>
  </tr>
  <tr id="section-The_&lt;code&gt;this&lt;/code&gt;_keyword">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-The_&lt;code&gt;this&lt;/code&gt;_keyword">&#182;</a>
      </div>
      <h3>The <code>this</code> keyword</h3>

<p>Another way to share variables between a <code>beforeEach</code>, <code>it</code>, and <code>afterEach</code> is through the <code>this</code> keyword. Each spec&#39;s <code>beforeEach</code>/<code>it</code>/<code>afterEach</code> has the <code>this</code> as the same empty object that is set back to empty for the next spec&#39;s <code>beforeEach</code>/<code>it</code>/<code>afterEach</code>.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spec&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;can use the `this` to share state&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s2">&quot;test pollution?&quot;</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;prevents test pollution by having an empty `this` created for the next spec&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Manually_failing_a_spec_with_&lt;code&gt;fail&lt;/code&gt;">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Manually_failing_a_spec_with_&lt;code&gt;fail&lt;/code&gt;">&#182;</a>
      </div>
      <h3>Manually failing a spec with <code>fail</code></h3>

<p>The <code>fail</code> function causes a spec to fail. It can take a failure message or an Error object as a parameter.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spec using the fail function&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">callBack</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">callBack</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should not call the callBack&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">fail</span><span class="p">(</span><span class="s2">&quot;Callback has been called&quot;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Nesting_&lt;code&gt;describe&lt;/code&gt;_Blocks">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Nesting_&lt;code&gt;describe&lt;/code&gt;_Blocks">&#182;</a>
      </div>
      <h3>Nesting <code>describe</code> Blocks</h3>

<p>Calls to <code>describe</code> can be nested, with specs defined at any level. This allows a suite to be composed as a tree of functions. Before a spec is executed, Jasmine walks down the tree executing each <code>beforeEach</code> function in order. After the spec is executed, Jasmine walks through the <code>afterEach</code> functions similarly.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spec&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">foo</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is just a function, so it can contain any code&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;can have more than one expectation&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;nested inside a second describe&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>

    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;can reference both scopes as needed&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Disabling_Suites">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Disabling_Suites">&#182;</a>
      </div>
      <h2>Disabling Suites</h2>

<p>Suites can be disabled with the <code>xdescribe</code> function. These suites and any specs inside them are skipped when run and thus their results will show as pending.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">xdescribe</span><span class="p">(</span><span class="s2">&quot;A spec&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">foo</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is just a function, so it can contain any code&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Pending_Specs">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Pending_Specs">&#182;</a>
      </div>
      <h2>Pending Specs</h2>

<p>Pending specs do not run, but their names will show up in the results as <code>pending</code>.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Pending specs&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-18">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-18">&#182;</a>
      </div>
      <p>Any spec declared with <code>xit</code> is marked as pending.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">xit</span><span class="p">(</span><span class="s2">&quot;can be declared &#39;xit&#39;&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-19">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-19">&#182;</a>
      </div>
      <p>Any spec declared without a function body will also be marked pending in results.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;can be declared with &#39;it&#39; but without a function&quot;</span><span class="p">);</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-20">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-20">&#182;</a>
      </div>
      <p>And if you call the function <code>pending</code> anywhere in the spec body, no matter the expectations, the spec will be marked pending.
A string passed to <code>pending</code> will be treated as a reason and displayed when the suite finishes.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;can be declared by calling &#39;pending&#39; in the spec body&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="nx">pending</span><span class="p">(</span><span class="s1">&#39;this is why it is pending&#39;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Spies">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Spies">&#182;</a>
      </div>
      <h2>Spies</h2>

<p>Jasmine has test double functions called <a href="/api/edge/Spy.html">spies</a>.
A spy can stub any function and tracks calls to it and all arguments.
A spy only exists in the <code>describe</code> or <code>it</code> block in which it is defined, and will be removed after each spec.
There are special matchers for interacting with spies.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">setBar</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">bar</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-22">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-22">&#182;</a>
      </div>
      <p>You can define what the spy will do when invoked with <a href="/api/edge/Spy_and.html">and</a>.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">spyOn</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="s1">&#39;setBar&#39;</span><span class="p">);</span>

    <span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
    <span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">(</span><span class="mi">456</span><span class="p">,</span> <span class="s1">&#39;another param&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-23">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-23">&#182;</a>
      </div>
      <p>The <code>toHaveBeenCalled</code> matcher will pass if the spy was called.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;tracks that the spy was called&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">).</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-24">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-24">&#182;</a>
      </div>
      <p>The <code>toHaveBeenCalledTimes</code> matcher will pass if the spy was called the specified number of times.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;tracks that the spy was called x times&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-25">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-25">&#182;</a>
      </div>
      <p>The <code>toHaveBeenCalledWith</code> matcher will return true if the argument list matches any of the recorded calls to the spy.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;tracks all the arguments of its calls&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="mi">456</span><span class="p">,</span> <span class="s1">&#39;another param&#39;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;stops all execution on a function&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">bar</span><span class="p">).</span><span class="nx">toBeNull</span><span class="p">();</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-26">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-26">&#182;</a>
      </div>
      <p>You get all of the data that a spy tracks about its calls with <a href="/api/edge/Spy_calls.html">calls</a></p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;tracks if it was called at all&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">();</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">setBar</span><span class="p">.</span><span class="nx">calls</span><span class="p">.</span><span class="nx">any</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Spies:_&lt;code&gt;createSpy&lt;/code&gt;">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Spies:_&lt;code&gt;createSpy&lt;/code&gt;">&#182;</a>
      </div>
      <h3>Spies: <code>createSpy</code></h3>

<p>When there is not a function to spy on, <a href="/api/edge/jasmine.html#.createSpy">jasmine.createSpy</a> can create a &quot;bare&quot; spy.
This spy acts as any other spy - tracking calls, arguments, etc. But there is no implementation behind it.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spy, when created manually&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">whatAmI</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">whatAmI</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;whatAmI&#39;</span><span class="p">);</span>

    <span class="nx">whatAmI</span><span class="p">(</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;am&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;spy&quot;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;tracks that the spy was called&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">whatAmI</span><span class="p">).</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Spies:_&lt;code&gt;createSpyObj&lt;/code&gt;">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Spies:_&lt;code&gt;createSpyObj&lt;/code&gt;">&#182;</a>
      </div>
      <h3>Spies: <code>createSpyObj</code></h3>

<p>In order to create a mock with multiple spies, use <a href="/api/edge/jasmine.html#.createSpyObj">jasmine.createSpyObj</a> and pass an array of strings.
It returns an object that has a property for each string that is a spy.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Multiple spies, when created manually&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tape</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">tape</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpyObj</span><span class="p">(</span><span class="s1">&#39;tape&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;play&#39;</span><span class="p">,</span> <span class="s1">&#39;pause&#39;</span><span class="p">,</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span> <span class="s1">&#39;rewind&#39;</span><span class="p">]);</span>

    <span class="nx">tape</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="nx">tape</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
    <span class="nx">tape</span><span class="p">.</span><span class="nx">rewind</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;creates spies for each requested function&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tape</span><span class="p">.</span><span class="nx">play</span><span class="p">).</span><span class="nx">toBeDefined</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tape</span><span class="p">.</span><span class="nx">pause</span><span class="p">).</span><span class="nx">toBeDefined</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tape</span><span class="p">.</span><span class="nx">stop</span><span class="p">).</span><span class="nx">toBeDefined</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tape</span><span class="p">.</span><span class="nx">rewind</span><span class="p">).</span><span class="nx">toBeDefined</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Matching_with_more_finesse">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Matching_with_more_finesse">&#182;</a>
      </div>
      <h2>Matching with more finesse</h2>

<p>Sometimes you don&#39;t want to match with exact equality.
Jasmine provides a number of asymmetric equality testers.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Matching with finesse&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-30">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-30">&#182;</a>
      </div>
      <p><a href="/api/edge/jasmine.html#.any">jasmine.any</a> takes a constructor or &quot;class&quot; name as an expected value.
It returns <code>true</code> if the constructor matches the constructor of the actual value.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;jasmine.any&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;matches any value&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">({}).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">any</span><span class="p">(</span><span class="nb">Object</span><span class="p">));</span>
      <span class="nx">expect</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">any</span><span class="p">(</span><span class="nb">Number</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful for comparing arguments&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">});</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">any</span><span class="p">(</span><span class="nb">Number</span><span class="p">),</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">any</span><span class="p">(</span><span class="nb">Function</span><span class="p">));</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-31">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-31">&#182;</a>
      </div>
      <p><a href="/api/edge/global.html#.anything">jasmine.anything</a> returns <code>true</code> if the actual value is not <code>null</code> or <code>undefined</code>.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;jasmine.anything&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;matches anything&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">anything</span><span class="p">());</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful when the argument can be ignored&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">});</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">anything</span><span class="p">());</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-32">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-32">&#182;</a>
      </div>
      <p><a href="/api/edge/global.html#.objectContaining">jasmine.objectContaining</a> is for those times when an expectation only cares about certain key/value pairs in the actual.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;jasmine.objectContaining&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="s2">&quot;baz&quot;</span>
      <span class="p">};</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;matches objects with the expect key/value pairs&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">objectContaining</span><span class="p">({</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="s2">&quot;baz&quot;</span>
      <span class="p">}));</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">objectContaining</span><span class="p">({</span>
        <span class="nx">c</span><span class="o">:</span> <span class="mi">37</span>
      <span class="p">}));</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful for comparing arguments&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">);</span>

        <span class="nx">callback</span><span class="p">({</span>
          <span class="nx">bar</span><span class="o">:</span> <span class="s2">&quot;baz&quot;</span>
        <span class="p">});</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">objectContaining</span><span class="p">({</span>
          <span class="nx">bar</span><span class="o">:</span> <span class="s2">&quot;baz&quot;</span>
        <span class="p">}));</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-33">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-33">&#182;</a>
      </div>
      <p><a href="/api/edge/global.html#.arrayContaining">jasmine.arrayContaining</a> is for those times when an expectation only cares about some of the values in an array.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;jasmine.arrayContaining&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;matches arrays with some of the values&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">arrayContaining</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]));</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">arrayContaining</span><span class="p">([</span><span class="mi">6</span><span class="p">]));</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful when comparing arguments&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">);</span>

        <span class="nx">callback</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">arrayContaining</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]));</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">arrayContaining</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]));</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-34">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-34">&#182;</a>
      </div>
      <p><a href="/api/edge/global.html#.stringMatching">jasmine.stringMatching</a> is for when you don&#39;t want to match a string in a larger object exactly, or match a portion of a string in a spy expectation.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;jasmine.stringMatching&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;matches as a regexp&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">}).</span><span class="nx">toEqual</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">stringMatching</span><span class="p">(</span><span class="sr">/^bar$/</span><span class="p">)});</span>
      <span class="nx">expect</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;foobarbaz&#39;</span><span class="p">}).</span><span class="nx">toEqual</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">stringMatching</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)});</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful for comparing arguments&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">);</span>

        <span class="nx">callback</span><span class="p">(</span><span class="s1">&#39;foobarbaz&#39;</span><span class="p">);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">stringMatching</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">));</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">stringMatching</span><span class="p">(</span><span class="sr">/^bar$/</span><span class="p">));</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Custom_asymmetric_equality_tester">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Custom_asymmetric_equality_tester">&#182;</a>
      </div>
      <h3>Custom asymmetric equality tester</h3>

<p>When you need to check that something meets a certain criteria, without being strictly equal, you can also specify a custom asymmetric equality tester simply by providing an object that has an <code>asymmetricMatch</code> function.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;custom asymmetry&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">tester</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">asymmetricMatch</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actual</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">secondValue</span> <span class="o">=</span> <span class="nx">actual</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
        <span class="k">return</span> <span class="nx">secondValue</span> <span class="o">===</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;dives in deep&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="s2">&quot;foo,bar,baz,quux&quot;</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">tester</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when used with a spy&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;is useful for comparing arguments&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">);</span>

        <span class="nx">callback</span><span class="p">(</span><span class="s1">&#39;foo,bar,baz&#39;</span><span class="p">);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">callback</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">tester</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Jasmine_Clock">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Jasmine_Clock">&#182;</a>
      </div>
      <h2>Jasmine Clock</h2>

<p>The <a href="/api/edge/Clock.html">Jasmine Clock</a> is available for testing time dependent code.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Manually ticking the Jasmine Clock&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">timerCallback</span><span class="p">;</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-37">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-37">&#182;</a>
      </div>
      <p>It is installed with a call to <code>jasmine.clock().install</code> in a spec or suite that needs to manipulate time.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">timerCallback</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="s2">&quot;timerCallback&quot;</span><span class="p">);</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">install</span><span class="p">();</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-38">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-38">&#182;</a>
      </div>
      <p>Be sure to uninstall the clock after you are done to restore the original functions.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">uninstall</span><span class="p">();</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Mocking_the_JavaScript_Timeout_Functions">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Mocking_the_JavaScript_Timeout_Functions">&#182;</a>
      </div>
      <h3>Mocking the JavaScript Timeout Functions</h3>

<p>You can make <code>setTimeout</code> or <code>setInterval</code> synchronous executing the registered functions only once the clock is ticked forward in time.</p>

<p>To execute registered functions, move time forward via the <code>jasmine.clock().tick</code> function, which takes a number of milliseconds.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;causes a timeout to be called synchronously&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">timerCallback</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>

    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">tick</span><span class="p">(</span><span class="mi">101</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">).</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;causes an interval to be called synchronously&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">timerCallback</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>

    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">tick</span><span class="p">(</span><span class="mi">101</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">.</span><span class="nx">calls</span><span class="p">.</span><span class="nx">count</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">tick</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">.</span><span class="nx">calls</span><span class="p">.</span><span class="nx">count</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">tick</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">timerCallback</span><span class="p">.</span><span class="nx">calls</span><span class="p">.</span><span class="nx">count</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Mocking_the_Date">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Mocking_the_Date">&#182;</a>
      </div>
      <h3>Mocking the Date</h3>

<p>The Jasmine Clock can also be used to mock the current date.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Mocking the Date object&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;mocks the Date object and sets it to a given time&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">baseTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-41">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-41">&#182;</a>
      </div>
      <p>If you do not provide a base time to <code>mockDate</code> it will use the current date.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>      <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">mockDate</span><span class="p">(</span><span class="nx">baseTime</span><span class="p">);</span>

      <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clock</span><span class="p">().</span><span class="nx">tick</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">baseTime</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="mi">50</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Asynchronous_Support">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Asynchronous_Support">&#182;</a>
      </div>
      <h2>Asynchronous Support</h2>

<p>Jasmine also has support for running specs that require testing asynchronous operations. The functions that you pass to <code>beforeAll</code>, <code>afterAll</code>, <code>beforeEach</code>, <code>afterEach</code>, and <code>it</code> can be asynchronous. There are three different ways to indicate that a function is asynchronous: by taking an optional callback parameter, by returning a promise, or by using the <code>async</code> keyword in environments that support it.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Asynchronous specs&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">value</span><span class="p">;</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Using_callbacks">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Using_callbacks">&#182;</a>
      </div>
      <h3>Using callbacks</h3>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Using callbacks&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-44">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-44">&#182;</a>
      </div>
      <p>Calls to <code>beforeAll</code>, <code>afterAll</code>, <code>beforeEach</code>, <code>afterEach</code>, and <code>it</code> can take an optional single argument that should be called when the async work is complete.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">done</span><span class="p">();</span>
      <span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-45">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-45">&#182;</a>
      </div>
      <p>This spec will not start until the <code>done</code> function is called in the call to <code>beforeEach</code> above. And this spec will not complete until its <code>done</code> is called.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should support async execution of test preparation and expectations&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">value</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBeGreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-46">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-46">&#182;</a>
      </div>
      <p>The <code>done.fail</code> function fails the spec and indicates that it has completed.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spec using done.fail&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">callBack1</span><span class="p">,</span> <span class="nx">callBack2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">callBack1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">callBack2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">};</span>

      <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should not call the second callBack&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">foo</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span>
          <span class="nx">done</span><span class="p">,</span>
          <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">done</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s2">&quot;Second callback has been called&quot;</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Using_promises">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Using_promises">&#182;</a>
      </div>
      <h3>Using promises</h3>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Using promises&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">browserHasPromises</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-48">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-48">&#182;</a>
      </div>
      <p>Functions passed to <code>beforeAll</code>, <code>afterAll</code>, <code>beforeEach</code>, <code>afterEach</code>, and <code>it</code> can return a promise that should be resolved when the async work is complete. If the promise is rejected, all specs in the enclosing <code>describe</code> will fail.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">soon</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">});</span>
    <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-49">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-49">&#182;</a>
      </div>
      <p>This spec will not start until the promise returned from the call to <code>beforeEach</code> above is settled. And this spec will not complete until the promise that it returns is settled. If the promise is rejected, the spec will fail.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should support async execution of test preparation and expectations&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">soon</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">++</span><span class="p">;</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBeGreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-Using_async/await">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-Using_async/await">&#182;</a>
      </div>
      <h3>Using async/await</h3>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Using async/await&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">browserHasAsyncAwaitSupport</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-51">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-51">&#182;</a>
      </div>
      <p>Functions passed to <code>beforeAll</code>, <code>afterAll</code>, <code>beforeEach</code>, <code>afterEach</code>, and <code>it</code> can be declared <code>async</code> in environments that support <code>async</code>/<code>await</code>.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">beforeEach</span><span class="p">(</span><span class="nx">async</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">await</span> <span class="nx">soon</span><span class="p">();</span>
      <span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-52">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-52">&#182;</a>
      </div>
      <p>This spec will not start until the promise returned from the call to <code>beforeEach</code> above is settled. And this spec will not complete until the promise that it returns is settled.</p>
    </td>
    <td class="code">
      <div class="highlight">
        <pre>    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should support async execution of test preparation and expectations&quot;</span><span class="p">,</span> <span class="nx">async</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">await</span> <span class="nx">soon</span><span class="p">();</span>
      <span class="nx">value</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBeGreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  <tr id="section-53">
    <td class="docs">
      <div class="pilwrap">
        <a class="pilcrow" href="#section-53">&#182;</a>
      </div>
      <p>By default jasmine will wait for 5 seconds for an asynchronous spec to finish before causing a timeout failure.
If the timeout expires before <code>done</code> is called, the current spec will be marked as failed and suite execution will continue as if <code>done</code> was called.</p>

<p>If specific specs should fail faster or need more time this can be adjusted by passing a timeout value to <code>it</code>, etc.</p>

<p>If the entire suite should have a different timeout, <code>jasmine.DEFAULT_TIMEOUT_INTERVAL</code> can be set globally, outside of any given <code>describe</code>.</p>

    </td>
    <td class="code">
      <div class="highlight">
        <pre>  <span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;long asynchronous specs&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">done</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>

    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;takes a long time&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">done</span><span class="p">();</span>
      <span class="p">},</span> <span class="mi">9000</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">10000</span><span class="p">);</span>

    <span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">done</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="kd">function</span> <span class="nx">soon</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">();</span>
      <span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">browserHasPromises</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">Promise</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">getAsyncCtor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var func = async function(){};&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">func</span><span class="p">).</span><span class="nx">constructor</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">browserHasAsyncAwaitSupport</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">getAsyncCtor</span><span class="p">()</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span></pre>
      </div>
    </td>
  </tr>
  </tbody>
</table>
